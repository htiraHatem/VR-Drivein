<html>

<head>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-animation-component@^3.2.0/dist/aframe-animation-component.min.js"></script>
    <script src="link-controls.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>

  <script>
        AFRAME.registerComponent('videosphereexpand', {
    
          init: function () {
       
             let videosource = document.querySelector('.spherevidclip');
             let videosphere = document.querySelector("#videosphereentity");
             let homeworldelements = document.querySelectorAll(".homeworld");
       
             let videosphereloader = () => {
             videosource.play();        
             videosphere.setAttribute("radius", "4200");
             homeworldelements.forEach((homeworldelement) => {
             homeworldelement.setAttribute("visible", false)})
             }
       
             this.el.addEventListener('click', videosphereloader);
               
          }});
         
         
    </script>
    </script>
</head>

<body>
    <a-scene>
        <a-assets>
        <img id="concrete" src="concrete.png">
        <img id="wall" src="bricks.png">
        <img id="floor" src="parquet.png">
        <img id="sky" src="clouds.png">
        <img id="bierkeller" src="res/bierkeller.png">
        <img id="mensa" src="res/mensa.png">
        <img id="zuckerstueck" src="res/zuckerstueck.png">
            
        <img id="rondo" src="res/rondo.png">
        <img id="thumbSunrise" src="https://cdn.aframe.io/link-traversal/thumbs/sunrise.png">
        <video id="spherevidclip" autoplay loop="true" src="https://cdn.glitch.com/96ab1f6e-16b9-43c1-9df3-fbe9b24a7490%2FTimelapse%20Video.mp4?1549921266764" crossorigin="anonymous"></video>
      </a-assets>
        <!-- <a-entity camera="active: true" look-controls wasd-controls position="0 0 2" data-aframe-default-camera></a-entity> -->
        
      

        <a-camera ar-raycaster raycaster cursor="fuse:true"> </a-camera>

        <a-sky src="#sky"></a-sky>
        
        <!--<a-curvedimage src="#concrete" height="25" radius="20" theta-length="360"
                 rotation="0 100 0" scale="0.5 0.5 0.5"></a-curvedimage>-->
        
        <a-curvedimage src="#concrete" height="30" radius="20" theta-length="360" position="0 0 0" rotation="0 0 0" scale="0.5 0.5 0.5">
            <a-box id="wall-1" position="0 0 0" height="30" width="39.92" color="red" rotation="0 90 0">
                <a-box id="door-3-front" position="10 0 -0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link   position="0 3 -0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
                <a-box id="door-3-back" position="10 0 0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link  position="0 3 0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
                <a-box id="door-4-front" position="-10 0 -0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link position="0 3 -0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
                <a-box id="door-2-back" position="-10 0 0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link position="0 3 0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
            </a-box>
        
            <a-box id="wall-2" position="0 0 0" height="30" width="39.92" color="blue" rotation="0 0 0">
                <a-box id="door-3-front" position="10 0 -0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link position="0 3 -0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
                <a-box id="door-3-back" position="10 0 0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link position="0 3 0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
                <a-box id="door-4-front" position="-10 0 -0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link position="0 3 -0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
                <a-box id="door-2-back" position="-10 0 0.2" height="10" width="2" color="yellow" rotation="0 0 0">
                    <a-link position="0 3 0.6" rotation="0 0 0" image="#sky"></a-link>
                </a-box>
            </a-box>
            
        </a-curvedimage>
    
        <a-curvedimage src="#mensa" height="30" radius="20.1" theta-length="90" theta-start="359" position="0.1 0 0" rotation="0 0 0" scale="0.5 0.5 0.5"></a-curvedimage>
        
        <a-curvedimage src="#bierkeller" height="30" radius="20.1" theta-length="90" theta-start="89" theta-end="180" position="0.1 0 0" rotation="0 0 0" scale="0.5 0.5 0.5"></a-curvedimage>
        
        <a-curvedimage src="#zuckerstueck" height="30" radius="20.1" theta-length="90" theta-start="178"  theta-end="272" position="-0.1 0 0" rotation="0 0 0" scale="0.5 0.5 0.5"></a-curvedimage>
    
        <a-curvedimage src="#rondo" height="30" 70dius="20.1" theta-length="90" theta-start="268" theta-end="360" position="-0.1 0 0" rotation="0 0 0" scale="0.5 0.5 0.5"></a-curvedimage>
        
        <a-light type="point" intensity="1.5" color="white" position="4 1.25 -4"></a-light>
        <a-light type="point" intensity="1.5" color="white" position="-4 1.25 4"></a-light>

        <a-plane position="0 0 0" rotation="-90 0 0" color="gray" width="100" height="100"></a-plane>

        <a-box position="4 1.25 -4" color="lightblue" rotation="-90 120 0" shadow>
            <a-sphere id="videosphereentity" position="0 0 1.13"  radius="0.5" rotation="90 0 0" src="#spherevidclip" videosphereexpand  shadow></a-sphere>
        </a-box>

        <a-box position="-4 1.25 4" color="purple" rotation="-90 120 0" shadow>
            <a-sphere id="videosphereentity" position="0 0 1.13"  radius="0.5" rotation="90 0 0" src="#spherevidclip" videosphereexpand  shadow></a-sphere>
        </a-box>

        <a-box class="videospheredisplay" position="4 1.25 4" color="lightyellow" rotation="-90 120 0" shadow>
            <a-sphere id="videosphereentity" position="0 0 1.13"  radius="0.5" rotation="90 0 0" src="#spherevidclip" videosphereexpand  shadow></a-sphere>
            <a-light type="point" intensity="0.5" color="blue" position="0 0.25 1.13"></a-light>
        </a-box>

        <a-box class="videospheredisplay"  position="-4 1.25 -4" color="lightblue" rotation="-90 60 0" shadow>
            <a-sphere id="videosphereentity" position="0 0 1.13"  radius="0.5" rotation="90 0 0" src="#spherevidclip" videosphereexpand  shadow></a-sphere>
        </a-box>
        
        <!-- light -->
<!--        <a-entity id="lightSphere" geometry="primitive: sphere; radius: 0.2" material="color: #FFF; shader: flat" light="type: point" position="-2 3 4"
                animation="property: position; dir: alternate; loop: true; to: 0.8 0.8 -4; dur: 5000">
        </a-entity>    -->
    </a-scene>
</body>

</html>